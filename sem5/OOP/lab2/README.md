# Lab 2 


### Tasks

* Створити файл XML та відповідну йому схему XSD. При розробці XSD використовувати прості та комплексні типи, перерахування, шаблони та граничні значення, обов'язково використання атрибутів та типу ID. Згенерувати (створити) Java-клас, що відповідає даному опису.
* Створити Java-додаток для аналізу XML-документа та ініціалізації колекції об'єктів інформацією з XML-файлу. Для аналізу використовувати SAX, DOM і StAX парсери. Для сортування об'єктів використайте інтерфейс Comparator. Здійснити перевірку XML-документа із залученням XSD.
* Визначити метод, який робить перетворення розробленого XML-документа в документ, зазначений у кожному завданні. Уникати copy-past коду. Весь код має бути покритий юніт тестами.

### Варіант: Холодна зброя

* **Type** – тип (ніж, кинжал, шабля тощо).
* **Handy** – одно чи дворучне.
* **Origin** – країна виробництва.
* **Visual** (має бути кілька) – візуальні характеристики: клинок (довжина клинка [10 – n см], ширина клинка [10 – n мм]), матеріал (клинок [сталь, чавун, мідь і т.д.]), рукоятка (Дерев'яна [якщо так, то вказати тип дерева], пластик, метал), наявність кровостоку (є чи ні).
* **Value** – колекційний чи ні. 

Кореневий елемент називається Knife.

## Структура проекту

```
lab2/
├── src/
│   ├── main/
│   │   └── java/
│   │       └── com/
│   │           ├── Main.java
│   │           ├── model/
│   │           │   ├── Knife.java
│   │           │   ├── Visual.java
│   │           │   ├── Blade.java
│   │           │   ├── Material.java
│   │           │   ├── Handle.java
│   │           │   ├── Value.java
│   │           │   ├── KnifeType.java
│   │           │   ├── HandyType.java
│   │           │   ├── BladeMaterial.java
│   │           │   ├── HandleMaterial.java
│   │           │   └── WoodType.java
│   │           ├── parser/
│   │           │   ├── SAXKnifeParser.java
│   │           │   ├── DOMKnifeParser.java
│   │           │   └── StAXKnifeParser.java
│   │           ├── util/
│   │           │   ├── XMLValidator.java
│   │           │   ├── XMLTransformer.java
│   │           │   └── KnifeComparator.java
│   │           └── resources/
│   │               ├── knives.xml
│   │               └── knives.xsd
│   └── test/
│       └── java/
│           └── com/
│               ├── model/
│               │   └── ModelTests.java
│               ├── parser/
│               │   ├── SAXKnifeParserTest.java
│               │   ├── DOMKnifeParserTest.java
│               │   └── StAXKnifeParserTest.java
│               └── util/
│                   ├── XMLValidatorTest.java
│                   └── KnifeComparatorTest.java
└── pom.xml
```

## Функціональність

### 1. XSD Схема 

XSD схема (`knives.xsd`) визначає структуру даних з використанням простих і комплексних типів, перерахувань, шаблонів, обмежень та атрибутів.

### 2. XML Парсери

Реалізовано три підходи до парсингу XML:

#### SAX Parser
Подієво-орієнтований парсер, ефективний для роботи з пам'яттю.

#### DOM Parser
Деревоподібний парсер, завантажує весь документ в пам'ять.

#### StAX Parser
Потоковий парсер, баланс між SAX та DOM.

### 3. Класи моделі

`Knife` як основна сутність, допоміжні класи (`Visual`, `Blade`, `Material`, `Handle`, `Value`) та enum для визначення типів.

### 4. Валідація

`XMLValidator` перевіряє XML документи відповідно до XSD схеми перед парсингом.

### 5. Сортування

`KnifeComparator` забезпечує сортування за типом, країною, довжиною клинка, колекційністю.

### 6. Трансформація XML

`XMLTransformer` генерує HTML таблицю та спрощений XML.

### 7. Юніт-тести

Покриття тестами тестів для класів моделі, парсерів, валідації та компараторів.


## Збірка та запуск

```bash
mvn clean compile
```

```bash
mvn exec:java
```

## Запуск тестів

```bash
mvn test
```


## Результат роботи програми


1. Валідує XML відповідно до XSD схеми
2. Парсить XML за допомогою SAX парсера
3. Парсить XML за допомогою DOM парсера
4. Парсить XML за допомогою StAX парсера
5. Відображає всі розпарсені ножі
6. Демонструє сортування за різними критеріями:
   - За типом
   - За країною походження
   - За довжиною клинка
   - За колекційною цінністю та довжиною клинка
7. Трансформує дані в HTML таблицю (зберігається як `knives_output.html`)
8. Трансформує дані в підсумковий XML (зберігається як `knives_summary.xml`)

## Приклади даних

Зразкові дані з 5 різними ножами:

- K001: Німецький кинжал з дамаською сталлю
- K002: Японська шабля зі сталевим клинком
- K003: Британський дворучний меч
- K004: Український ніж з пластиковою рукояткою
- K005: Бразильський мачете з чавунним клинком
