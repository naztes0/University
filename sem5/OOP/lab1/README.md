# Lab1 - Music Compilation Manager

## ğŸ“‹ Requirements

Ğ¡Ñ‚Ğ²Ğ¾Ñ€Ğ¸Ñ‚Ğ¸ ĞºĞ¾Ğ½ÑĞ¾Ğ»ÑŒĞ½Ñƒ Ğ¿Ñ€Ğ¾Ğ³Ñ€Ğ°Ğ¼Ñƒ, Ñ‰Ğ¾ Ğ·Ğ°Ğ´Ğ¾Ğ²Ğ¾Ğ»ÑŒĞ½ÑÑ” Ğ½Ğ°ÑÑ‚ÑƒĞ¿Ğ½Ğ¸Ğ¼ Ğ²Ğ¸Ğ¼Ğ¾Ğ³Ğ°Ğ¼:

1. Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ¼Ğ¾Ğ¶Ğ»Ğ¸Ğ²Ğ¾ÑÑ‚Ñ– ĞOĞŸ: ĞºĞ»Ğ°ÑĞ¸, Ğ½Ğ°ÑĞ»Ñ–Ğ´ÑƒĞ²Ğ°Ğ½Ğ½Ñ, Ğ¿Ğ¾Ğ»Ñ–Ğ¼Ğ¾Ñ€Ñ„Ñ–Ğ·Ğ¼, Ñ–Ğ½ĞºĞ°Ğ¿ÑÑƒĞ»ÑÑ†Ñ–Ñ.
2. ĞšĞ¾Ğ¶ĞµĞ½ ĞºĞ»Ğ°Ñ Ğ¿Ğ¾Ğ²Ğ¸Ğ½ĞµĞ½ Ğ¼Ğ°Ñ‚Ğ¸ Ğ²Ğ¸Ñ‡ĞµÑ€Ğ¿Ğ½Ñƒ ÑĞµĞ½Ñ Ğ½Ğ°Ğ·Ğ²Ñƒ Ñ‚Ğ° Ñ–Ğ½Ñ„Ğ¾Ñ€Ğ¼Ğ°Ñ‚Ğ¸Ğ²Ğ½Ğ¸Ğ¹ ÑĞºĞ»Ğ°Ğ´.
3. ĞĞ°ÑĞ»Ñ–Ğ´ÑƒĞ²Ğ°Ğ½Ğ½Ñ ÑĞ»Ñ–Ğ´ Ğ·Ğ°ÑÑ‚Ğ¾ÑĞ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ğ»Ğ¸ÑˆĞµ Ñ‚Ğ¾Ğ´Ñ–, ĞºĞ¾Ğ»Ğ¸ Ñ†Ğµ Ğ¼Ğ°Ñ” ÑĞµĞ½Ñ.
4. ĞŸÑ–Ğ´ Ñ‡Ğ°Ñ ĞºĞ¾Ğ´ÑƒĞ²Ğ°Ğ½Ğ½Ñ Ğ¼Ğ°ÑÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ°Ğ½Ñ– ÑƒĞ³Ğ¾Ğ´Ğ¸ Ğ¿Ñ€Ğ¾ Ğ¾Ñ„Ğ¾Ñ€Ğ¼Ğ»ĞµĞ½Ğ½Ñ ĞºĞ¾Ğ´Ñƒ java code convention.
5. ĞšĞ»Ğ°ÑĞ¸ Ğ¼Ğ°ÑÑ‚ÑŒ Ğ±ÑƒÑ‚Ğ¸ Ñ€Ğ¾Ğ·ĞºĞ»Ğ°Ğ´ĞµĞ½Ñ– Ğ·Ğ° Ğ¿Ğ°ĞºĞµÑ‚Ğ°Ğ¼Ğ¸.
6. ĞšĞ¾Ğ½ÑĞ¾Ğ»ÑŒĞ½Ğµ Ğ¼ĞµĞ½Ñ Ğ¼Ğ°Ñ” Ğ±ÑƒÑ‚Ğ¸ Ğ¼Ñ–Ğ½Ñ–Ğ¼Ğ°Ğ»ÑŒĞ½Ğ¸Ğ¼.
7. Ğ”Ğ»Ñ Ğ·Ğ±ĞµÑ€ĞµĞ¶ĞµĞ½Ğ½Ñ Ğ¿Ğ°Ñ€Ğ°Ğ¼ĞµÑ‚Ñ€Ñ–Ğ² Ñ–Ğ½Ñ–Ñ†Ñ–Ğ°Ğ»Ñ–Ğ·Ğ°Ñ†Ñ–Ñ— Ğ¼Ğ¾Ğ¶Ğ½Ğ° Ğ²Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ„Ğ°Ğ¹Ğ»Ğ¸.
8. Ğ’ĞµÑÑŒ ĞºĞ¾Ğ´ Ğ¿Ğ¾Ğ²Ğ¸Ğ½ĞµĞ½ Ğ±ÑƒÑ‚Ğ¸ Ğ¿Ğ¾ĞºÑ€Ğ¸Ñ‚Ğ¸Ğ¹ ÑĞ½Ñ–Ñ‚ Ñ‚ĞµÑÑ‚Ğ°Ğ¼Ñ– Ğ’Ğ¸ĞºĞ¾Ñ€Ğ¸ÑÑ‚Ğ¾Ğ²ÑƒĞ²Ğ°Ñ‚Ğ¸ Junit 4 Ğ°Ğ±Ğ¾ 5, Mockito.


**Task:**  Ğ—Ğ²ÑƒĞºĞ¾Ğ·Ğ°Ğ¿Ğ¸Ñ. Ğ’Ğ¸Ğ·Ğ½Ğ°Ñ‡Ğ¸Ñ‚Ğ¸ Ñ–Ñ”Ñ€Ğ°Ñ€Ñ…Ñ–Ñ Ğ¼ÑƒĞ·Ğ¸Ñ‡Ğ½Ğ¸Ñ… ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ğ¹. Ğ—Ğ°Ğ¿Ğ¸ÑĞ°Ñ‚Ğ¸ Ğ½Ğ° Ğ´Ğ¸ÑĞº ÑĞ±Ñ–Ñ€ĞºÑƒ Ğ¿Ñ–ÑĞµĞ½ÑŒ . ĞŸĞ¾Ñ€Ğ°Ñ…ÑƒĞ²Ğ°Ñ‚Ğ¸ Ñ‚Ñ€Ğ¸Ğ²Ğ°Ğ»Ñ–ÑÑ‚ÑŒ. ĞŸÑ€Ğ¾Ğ²ĞµÑÑ‚Ğ¸ Ğ¿ĞµÑ€ĞµÑÑ‚Ğ°Ğ½Ğ¾Ğ²ĞºÑƒ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ğ¹ Ğ´Ğ¸ÑĞºĞ° Ğ· ÑƒÑ€Ğ°Ñ…ÑƒĞ²Ğ°Ğ½Ğ½ÑĞ¼ Ğ¿Ñ€Ğ¸Ğ½Ğ°Ğ»ĞµĞ¶Ğ½Ğ¾ÑÑ‚Ñ– Ğ´Ğ¾ ÑÑ‚Ğ¸Ğ»Ñ. Ğ—Ğ½Ğ°Ğ¹Ñ‚Ğ¸ ĞºĞ¾Ğ¼Ğ¿Ğ¾Ğ·Ğ¸Ñ†Ñ–Ñ, ÑĞºĞ° Ğ²Ñ–Ğ´Ğ¿Ğ¾Ğ²Ñ–Ğ´Ğ°Ñ” Ğ·Ğ°Ğ´Ğ°Ğ½Ğ¾Ğ¼Ñƒ Ğ´Ñ–Ğ°Ğ¿Ğ°Ğ·Ğ¾Ğ½Ñƒ Ğ´Ğ¾Ğ²Ğ¶Ğ¸Ğ½Ğ¸ Ñ‚Ñ€ĞµĞºÑ–Ğ². 

---


### Package Structure

```
src/main/java/com/lab1/
â”œâ”€â”€ Main.java
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ Compilation.java
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ MusicComposition.java (abstract)
â”‚   â”œâ”€â”€ Song.java
â”‚   â”œâ”€â”€ Instrumental.java
â”‚   â””â”€â”€ Remix.java
â””â”€â”€ util/
    â”œâ”€â”€ CompilationFileManager.java
    â”œâ”€â”€ CompilationsManager.java
    â””â”€â”€ AppConstants.java

src/test/java/com/lab1/
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ CompilationTest.java
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ MusicCompositionTest.java
â”‚   â”œâ”€â”€ SongTest.java
â”‚   â”œâ”€â”€ InstrumentalTest.java
â”‚   â””â”€â”€ RemixTest.java
â””â”€â”€ util/
    â”œâ”€â”€ CompilationFileManagerTest.java
    â””â”€â”€ CompilationsManagerTest.java
```

### Class Hierarchy

```
MusicComposition (abstract)
â”œâ”€â”€ Song
â”œâ”€â”€ Instrumental
â””â”€â”€ Remix
```

---

### Model Classes

#### `MusicComposition` (abstract)
Base abstract class for all music compositions.

**Fields:**
- `String title`
- `String artist`
- `int durationSec`
- `String genre`
- `int yearReleased`

**Methods:**
- `String getTitle()`
- `String getArtist()`
- `int getDurationSec()`
- `String getGenre()`
- `int getYearReleased()`
- `abstract String getType()`
- `String toString()`

---

#### `Song`
Represents a song with a band.

**Additional Fields:**
- `String band`

**Methods:**
- `String getBand()`
- `String getType()` 
- `String toString()`

---

#### `Instrumental`
Represents an instrumental composition.

**Additional Fields:**
- `String instrument`

**Methods:**
- `String getInstrument()`
- `String getType()`
- `String toString()`

---

#### `Remix`
Represents a remix with the original artist and remixer.

**Additional Fields:**
- `String originalArtist`
- `String remixer`

**Methods:**
- `String getOriginalArtist()`
- `String getRemixer()`
- `String getType()` 
- `String toString()` 

---

### Controller Classes

#### `Compilation`
Manages a collection of music compositions.

**Fields:**
- `String title`
- `List<MusicComposition> playlist`

**Methods:**
- `String getTitle()`
- `List<MusicComposition> getPlaylist()` â†’ returns defensive copy
- `void addComposition(MusicComposition composition)`
- `void removeComposition(MusicComposition composition)`
- `int calculateTotalDuration()` â†’ calculates total duration in seconds
- `void sortByGenre()` â†’ sorts by genre, then by title
- `List<MusicComposition> findByDuration(int minDur, int maxDur)` â†’ finds compositions in range
- `void printPlaylist()` â†’ prints formatted playlist to console

---

### Utility Classes

#### `CompilationFileManager`
Handles saving and loading compilations from files.

**Methods:**
- `static void saveToFile(Compilation compilation, String filename)` â†’ saves to .txt file
- `static Compilation loadFromFile(String filename)` â†’ loads from .txt file
- `private static String serializeComposition(MusicComposition comp)` â†’ converts to string format
- `private static MusicComposition deserializeComposition(String line)` â†’ parses from string

---

#### `CompilationsManager`
Manages multiple compilations (create, select, delete, save).

**Methods:**
- `Compilation createCompilation()` â†’ creates new compilation
- `Compilation selectExistingCompilation()` â†’ loads existing compilation
- `void deleteCompilation()` â†’ deletes compilation file
- `List<String> getCompilationsList()` â†’ returns list of available compilations
- `void saveCompilation(Compilation compilation)` â†’ saves compilation to file

---

#### `AppConstants`
Contains application constants.

**Constants:**
- `String COMPILATION_FOLDER = "compilations_folder"`
- `String FILE_EXTENSION = ".txt"`

---

## ğŸ§ª Testing

### Test Architecture

```
src/test/java/com/lab1/
â”œâ”€â”€ model/
â”‚   â”œâ”€â”€ MusicCompositionTest.java        (16 tests)
â”‚   â”œâ”€â”€ SongTest.java                    (8 tests)
â”‚   â”œâ”€â”€ InstrumentalTest.java            (5 tests)
â”‚   â””â”€â”€ RemixTest.java                   (6 tests)
â”œâ”€â”€ controller/
â”‚   â””â”€â”€ CompilationTest.java             (12 tests)
â””â”€â”€ util/
    â”œâ”€â”€ CompilationFileManagerTest.java  (9 tests)
    â””â”€â”€ CompilationsManagerTest.java     (10 tests)
```


### Build and Run
```bash
mvn exec:java
```

### Run Tests
```bash
mvn test
```

### Generate Coverage Report (JaCoCo)

target/site/jacoco/index.html

```bash
mvn test
```

---

## ğŸ“Š Summary

- **7 main classes** implemented with full OOP principles
- **66 unit tests** covering 67% of codebase
- **3 types** of music compositions (Song, Instrumental, Remix)
- **File-based** persistence with custom format
- **Console interface** for user interaction
- **Mockito** used for testing user input scenarios
